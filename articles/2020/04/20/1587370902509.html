<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="theme-color" content="#3b3e43"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no"/><title>数据结构 | 链表 - yzt 的个人博客</title><meta name="description" content="这里是 yzt 的个人博客"/><meta property="og:description" content="这里是 yzt 的个人博客"/>    <meta name="keywords" content="Solo,Java,博客,开源"/><link rel="dns-prefetch" href="https://yzt95.github.io"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://yzt95.github.io"><link rel="icon" type="image/png" href="https://static.b3log.org/images/brand/solo-32.png"/><link rel="apple-touch-icon" href="https://static.b3log.org/images/brand/solo-32.png"><link rel="shortcut icon" type="image/x-icon" href="https://static.b3log.org/images/brand/solo-32.png"><meta name="copyright" content="B3log"/><meta http-equiv="Window-target" content="_top"/><meta property="og:locale" content="zh_CN"/><meta property="og:title" content="数据结构 | 链表 - yzt 的个人博客"/><meta property="og:site_name" content="yzt 的个人博客"/><meta property="og:url"      content="https://yzt95.github.io/articles/2020/04/20/1587370902509.html?"/><meta property="og:image" content="https://static.b3log.org/images/brand/solo-32.png"/><link rel="search" type="application/opensearchdescription+xml" title="数据结构 | 链表 - yzt 的个人博客" href="/opensearch.xml"><link href="https://yzt95.github.io/rss.xml" title="RSS" type="application/rss+xml" rel="alternate"/><link rel="manifest" href="https://yzt95.github.io/manifest.json">        <link rel="canonical" href="https://yzt95.github.io/articles/2020/04/20/1587370902509.html">        <link rel="stylesheet" href="https://yzt95.github.io/skins/nexmoe/css/base.css?1587372032932"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
        <link rel="stylesheet" href="https://yzt95.github.io/skins/nexmoe/css/font-icon.css?1587372032932">
    </head>
<body class="mdui-drawer-body-left mdui-loaded">
<div id="nexmoe-background">
    <canvas id="c_n1" class="nexmoe-bg"></canvas>
<div class="mdui-appbar mdui-shadow-0">
    <div class="mdui-toolbar">
        <a href="#" mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon">
            <i class="mdui-icon  iconfont solo-list"></i>
        </a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="/" title="yzt 的个人博客" class="mdui-btn mdui-btn-icon">
            <img src="https://static.b3log.org/images/brand/solo-32.png" title="yzt 的个人博客" alt="yzt 的个人博客"></a>
        </a>
    </div>
</div>
</div>
<div id="nexmoe-header">
<div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="https://yzt95.github.io/" title="yzt 的个人博客">
            <img src="https://static.b3log.org/images/brand/solo-32.png" title="yzt 的个人博客" alt=""></a>
    </div>
    <div class="nexmoe-count">
        <div>
            <span>文章</span>
            6
        </div>
        <div>
            <span class="ft-gray">浏览</span>
            <b class="notb" data-uvstaturl="https://yzt95.github.io">0</b>
        </div>
    </div>
    <div class="list-content">
        <ul class="nexmoe-list mdui-list header__nav" mdui-collapse="{accordion: true}">
            <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="https://yzt95.github.io/" title="yzt 的个人博客">
                <i class="mdui-list-item-icon iconfont solo-home"></i>
                <div class="mdui-list-item-content">回到首页</div>
            </a>
            <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="https://yzt95.github.io/links.html"
               title="友情链接 - yzt 的个人博客">
                <i class="mdui-list-item-icon iconfont solo-list"></i>
                <div class="mdui-list-item-content">友情链接</div>
            </a>
            <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="https://yzt95.github.io/tags.html"
               title="标签 - yzt 的个人博客">
                <i class="mdui-list-item-icon iconfont solo-tags"></i>
                <div class="mdui-list-item-content">标签</div>
            </a>
        </ul>
    </div>
    <aside id="nexmoe-sidebar">

        <div class="nexmoe-widget-wrap">
            <h3 class="nexmoe-widget-title">功能按钮</h3>
            <div class="nexmoe-widget nexmoe-social features">
                <a href="https://yzt95.github.io/search" title="搜索">
                    <i class="mdui-list-item-icon iconfont solo-search"></i>
                    <div class="mdui-list-item-content">搜索</div>
                </a>
                <a href="https://yzt95.github.io/rss.xml" title="RSS">
                    <i class="mdui-list-item-icon iconfont solo-rss"></i>
                </a>
                    <a href="https://yzt95.github.io/start" title="开始使用">
                        <i class="mdui-list-item-icon iconfont solo-login"></i>
                        <div class="mdui-list-item-content"> 开始使用</div>
                    </a>
            </div>
        </div>

        <div class="nexmoe-widget-wrap">
            <h3 class="nexmoe-widget-title">社交按钮</h3>
            <div class="nexmoe-widget nexmoe-social">
    <a href="https://hacpai.com/member/yzt"
       title="https://hacpai.com/member/yzt"
       class="user__site"
       target="_blank" rel="noopener nofollow">
        <svg viewBox="0 0 32 32" width="100%" height="100%">
            <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
            <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
            <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
        </svg>
    </a>


            </div>
        </div>

            <div class="nexmoe-widget-wrap">
                <h3 class="nexmoe-widget-title">标签</h3>
                <div class="nexmoe-widget tagcloud">
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"
                           title="标签:数据结构 - yzt 的个人博客"
                           class="mdui-ripple">
                            数据结构</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/Solo"
                           title="标签:Solo - yzt 的个人博客"
                           class="mdui-ripple">
                            Solo</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/Java"
                           title="标签:Java - yzt 的个人博客"
                           class="mdui-ripple">
                            Java</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/%E5%BE%85%E5%88%86%E7%B1%BB"
                           title="标签:待分类 - yzt 的个人博客"
                           class="mdui-ripple">
                            待分类</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA"
                           title="标签:博客搭建 - yzt 的个人博客"
                           class="mdui-ripple">
                            博客搭建</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/Java%E5%9F%BA%E7%A1%80"
                           title="标签:Java基础 - yzt 的个人博客"
                           class="mdui-ripple">
                            Java基础</a>
                        <a rel="tag"
                           href="https://yzt95.github.io/tags/Hugo"
                           title="标签:Hugo - yzt 的个人博客"
                           class="mdui-ripple">
                            Hugo</a>
                </div>
            </div>


            <div class="nexmoe-widget-wrap">
                <h3 class="nexmoe-widget-title">分类</h3>
                <div class="nexmoe-widget">
                    <ul class="category-list">
                            <li class="category-list-item">
                                <a class="category-list mdui-ripple"
                                   href="https://yzt95.github.io/category/Blog"
                                   title="博客搭建 - yzt 的个人博客">
                                    博客搭建</a>
                                <span class="category-list-count">1</span>
                            </li>
                    </ul>
                </div>
            </div>

            <div class="nexmoe-widget-wrap">
                <h3 class="nexmoe-widget-title">存档</h3>
                <div class="nexmoe-widget">
                    <ul class="category-list">
                                <li class="category-list-item">
                                    <a href="https://yzt95.github.io/archives/2020/04"
                                       title="2020 年 04 月 存档 - yzt 的个人博客">
                                        2020 年 04 月</a>
                                    <span class="category-list-count">6</span>
                                </li>
                    </ul>
                </div>
            </div>

    </aside>
    <div class="nexmoe-copyright">
        © 2020 <a href="https://yzt95.github.io">yzt 的个人博客</a> <br/>
         <br>
        Powered by <a href="https://solo.b3log.org" target="_blank">Solo</a> <br>
        Theme <a rel="friend" href="https://github.com/InkDP/solo-nexmoe" target="_blank">nexmoe</a>
        by <a rel="friend" href="https://www.inkdp.cn" target="_blank">InkDP</a>
    </div>
</div>
</div>
<div id="nexmoe-content">
    <div class="nexmoe-primary">
        <main id="pjax" class="fn__flex-1">
            
            <div class="nexmoe-post">
                <div class="nexmoe-post-cover">
                    <img src="https://img.hacpai.com/bing/20180221.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" alt="数据结构 | 链表"
                         data-src="https://img.hacpai.com/bing/20180221.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" class=" ls-is-cached lazyloaded">
                    <h1>数据结构 | 链表</h1>
                </div>
                <div class="nexmoe-post-meta">
                <span>
                    <i class="nexmoefont iconfont solo-calendarl"></i>2020年04月20日
                </span>

                    <span>
                    <i class="nexmoefont iconfont solo-heat"></i>
                    <b class="notb" data-uvstaturl="https://yzt95.github.io/articles/2020/04/20/1587370902509.html">0</b> °C
                </span>
                        <span>
                    <a class="nexmoefont iconfont solo-tag "
                       href="https://yzt95.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">数据结构</a>
                </span>

                </div>
                <article>
                    <div class="vditor-reset">
                        <p><img src="https://img.hacpai.com/bing/20180221.jpg?imageView2/1/w/960/h/540/interlace/1/q/100" alt=""></p>
<h2 id="toc_h2_0">双向链表</h2>
<ul>
<li>之前的单向链表只能通过 Node 中 next 属性从头遍历链表，完成搜索</li>
<li>双向链表中的 Node 增加 prev 属性，指向该节点上一个节点</li>
<li>双向链表查找元素可以从 first 或 last 两个方向开始查找，故而可以提高效率</li>
<li>Java 官方 LinkedList 就是双向链表</li>
</ul>
<p><img src="/pic/datastructure/双向链表.png" alt="双向链表"></p>
<h2 id="toc_h2_1">实现双向链表</h2>
<p>相比单向链表，双向链表需要重写查找节点、添加节点、删除节点、清空链表四个方法</p>
<h3 id="toc_h3_2">1. 属性</h3>
<p>增加 last 指向尾节点，Node 中增加 prev 指向前一个节点</p>
<pre><code class="language-java">public class LinkedList&lt;E&gt; {
    // 当前链表元素的数量
    private int size;
    // 链表的头节点
    private Node&lt;E&gt; first;
    // 链表的尾节点
    private Node&lt;E&gt; last;
    // 未查找到元素下标的返回值
    private static final int MINUS_ONE = -1;
    //  节点内部类
    private static class Node&lt;E&gt; {
        // 前驱节点
        Node&lt;E&gt; prev;
        // 后继节点
        Node&lt;E&gt; next;
        // 存储的数据元素
        E element;
        // 构造器
        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {
            this.prev = prev;
            this.element = element;
            this.next = next;
        }
    }
}
</code></pre>
<h3 id="toc_h3_3">2. 构造器</h3>
<pre><code class="language-java">// 构造器
LinkedList() {
    first = null;
    last = null;
    size = 0;
}
</code></pre>
<h3 id="toc_h3_4">3. 查找节点</h3>
<p>判断要查找的位置是在链表前半段还是后半段，选择<strong>从前向后</strong>还是<strong>从后向前</strong>查找</p>
<pre><code class="language-java">// 查找节点
private Node&lt;E&gt; getNode(int index) {
    checkRange(index);

    if(index &lt; (size&gt;&gt;1)) {
        // 目标index小于长度的中间值，从前往后找
        Node&lt;E&gt; node = first;
        for(int i=0;i&lt;index;i++) {
            node = node.next;
        }
        return node;
    }else {
        // 目标index大于中间值，从后往前找
        Node&lt;E&gt; node = last;
        for(int i=size-1;i&gt;index;i--) {
            node = node.prev;
        }
        return node;
    }
}
</code></pre>
<h3 id="toc_h3_5">4. 添加元素</h3>
<ul>
<li>向链表<strong>尾部</strong>追加元素
<ul>
<li>空链表</li>
<li>非空链表</li>
</ul>
</li>
<li>向<strong>非尾部</strong>插入元素
<ul>
<li>插入到第一个位置</li>
<li>其他位置</li>
</ul>
</li>
</ul>
<pre><code class="language-java">// 添加元素
public void add(int index,E ele) {
    checkRangeForAdd(index);
    // 向最后添加元素
    if(index==size) {
        Node&lt;E&gt; oldLast = last;
        last = new Node&lt;&gt;(oldLast,ele,null);
        // 如果链表是空的，添加的元素是第一个元素
        if(oldLast==null) {
            first = last;
        }else {
            oldLast.next = last;
        }
    }else {
        // 插入位置原节点成为新节点的后继
        Node&lt;E&gt; next = getNode(index);
        // 插入位置原节点的前驱成为新节点的前驱
        Node&lt;E&gt; prev = next.prev;
        // 创建新节点
        Node&lt;E&gt; node = new Node&lt;&gt;(prev,ele,next);
        // 设置 next 的 prev
        next.prev = node;
        // 如果插入到第一个位置，也就是说 index==0
        if(prev==null) {
            first = node;
        }else {
            prev.next = node;
        }
    }
    size ++;
}
// 向尾部添加元素
public void add(E ele) {
    add(size,ele);
}
</code></pre>
<h3 id="toc_h3_6">5. 删除元素</h3>
<p>删除元素，将前驱的 next 指向后继，后继的 prev 指向前驱，如果是头节点 (prev==null) 或尾节点 (next==null) 需要特殊处理</p>
<pre><code class="language-java">// 删除元素
public E remove(int index) {
    checkRange(index);
    Node&lt;E&gt; node = getNode(index);
    Node&lt;E&gt; prev = node.prev;
    Node&lt;E&gt; next = node.next;
    if(prev==null) {
        first = next;
    }else {
        prev.next = next;
    }
    if(next==null) {
        last = prev;
    }else {
        next.prev = prev;
    }
    size --;
    return node.element;
}
</code></pre>
<h3 id="toc_h3_7">6. 清空链表</h3>
<p>只需要把 first 和 last 置空，size 置 0 即可，JDK 源码中还依次置空了 Node，因为迭代器可能引用着其中某个节点，导致其他节点被简介引用，无法被回收</p>
<pre><code class="language-java">// 清空链表
public void clear() {
    first = null;
    last = null;
    size = 0;
}
</code></pre>
<h2 id="toc_h2_8">双向链表 vs 动态数组</h2>
<ul>
<li>动态数组：开辟、销毁内存的次数少，可能造成内存空间浪费</li>
<li>双向链表：开辟、销毁内存的次数多，但不会有内存空间浪费</li>
</ul>
<h3 id="toc_h3_9">如和选择两种数据结构</h3>
<ul>
<li>频繁尾部添加、删除：二者皆可</li>
<li>频繁头部添加、删除：双向链表</li>
<li>频繁任意位置添加、删除：双向链表</li>
<li>频繁查询（随机访问）：动态数组</li>
</ul>
<h2 id="toc_h2_10">参考</h2>
<ul>
<li><a href="https://ke.qq.com/course/385223" target="_blank">恋上数据结构与算法（第一季）</a></li>
<li><a href="https://juejin.im/post/5df9c8256fb9a016214cd3de" target="_blank">小码哥《恋上数据结构与算法》笔记（三）：双向链表</a></li>
</ul>
                    </div>
                </article>
                    <div class="nexmoe-post-copyright">
                        <i class="mdui-list-item-icon iconfont solo-about2"></i>
                        <hr>

标题：数据结构 | 链表<br>
作者：<a href="https://yzt95.github.io" target="_blank">yzt</a><br>
地址：<a href="https://yzt95.github.io/articles/2020/04/20/1587370902509.html" target="_blank">https://yzt95.github.io/articles/2020/04/20/1587370902509.html</a><br>

<!-- 签名档内可使用 HTML、JavaScript -->
<br>
                    </div>
            </div>
            <div class="post__toc">
<ul class="article__toc">
        <li class="toc__h2">
            <a href="#toc_h2_0">双向链表</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_1">实现双向链表</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_2">1. 属性</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_3">2. 构造器</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_4">3. 查找节点</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_5">4. 添加元素</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_6">5. 删除元素</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_7">6. 清空链表</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_8">双向链表 vs 动态数组</a>
        </li>
        <li class="toc__h3">
            <a href="#toc_h3_9">如和选择两种数据结构</a>
        </li>
        <li class="toc__h2">
            <a href="#toc_h2_10">参考</a>
        </li>
</ul>            </div>
                <div id="b3logsolocomments"></div>
                <div id="vcomment" style="padding: 30px 0;" data-name="yzt" data-postId="1587370902509"></div>

            
        </main>

            <div class="nexmoe-hitokoto">
                <p id="hitokoto">学习。才能变强！生命，在于折腾！</p>
            </div>
        <div class="back-to-top iconfont solo-gotop" onclick="Util.goTop()"></div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script type="text/javascript" src="https://yzt95.github.io/js/common.min.js?1587372032932"
        charset="utf-8"></script>
    <script type="text/javascript" src="https://yzt95.github.io/skins/nexmoe/js/canvas.js?1587372032932"
            charset="utf-8"></script>

<script src="https://yzt95.github.io/skins/nexmoe/js/app.js?1587372032932"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>
<script type="text/javascript" src="https://yzt95.github.io/js/common.min.js?1587372032932"
        charset="utf-8"></script>
<script type="text/javascript" src="https://yzt95.github.io/skins/nexmoe/js/common.js?1587372032932"
        charset="utf-8"></script>
<script>
  var Label = {
    servePath: "https://yzt95.github.io",
    staticServePath: "https://yzt95.github.io",
    luteAvailable: false,
    hljsStyle: 'autumn',
    langLabel: "zh_CN",
    version: "4.0.0",
    staticSite: true,
    showCodeBlockLn: true,
  }
</script>

<script>
    console.clear();
</script>
<script type="text/javascript">
    Util.addScript('https://yzt95.github.io/js/page.min.js?1587372032932', 'soloPageScript')
    var page = new Page({
        "commentContentCannotEmptyLabel": "评论内容只能为 2 到 500 个字符！",
        "oId": "1587370902509",
        "blogHost": "https://yzt95.github.io",
        "randomArticles1Label": "随机阅读：",
        "externalRelevantArticles1Label": "站外相关阅读："
    });
    $(document).ready(function () {
        page.load();
    page.tips.externalRelevantArticlesDisplayCount = "0";
    Skin.initArticle()
    });
</script>

</body>
</html>

<!-- Generated by Latke (https://github.com/88250/latke) in 74ms, 2020/04/20 18:07:39 -->